{% extends 'base.html' %}

{% block title %}Edit Question{% endblock %}

{% block header %}
    <h1>Edit Question</h1>
{% endblock %}

{% block content %}
    <form method="post" action="{{ url_for('category.edit_question', question_id=question['id']) }}" class="edit-question-form">
        <div class="form-group">
            <label for="question">Question Text</label>
            <input type="text" id="question" name="question" value="{{ question['question_text'] }}" required>
        </div>

        <div class="form-group">
            <label>Answer Choices</label>
            {% for answer in answers %}
                <input type="text" name="answer{{ loop.index }}" value="{{ answer['answer_text'] }}" placeholder="Answer {{ loop.index }}" required>
            {% endfor %}
        </div>

        <div class="form-group">
            <label for="correct_answer">Select Correct Answer</label>
            <select id="correct_answer" name="correct_answer" required>
                {% for answer in answers %}
                    <option value="{{ loop.index }}" {% if answer['is_correct'] %}selected{% endif %}>Answer {{ loop.index }}</option>
                {% endfor %}
            </select>
        </div>

        <button type="submit" class="btn">Save Changes</button>
    </form>

    <a href="{{ url_for('category.manage_category', category_id=question['category_id']) }}" class="back-link">Back to Questions</a>
{% endblock %}
